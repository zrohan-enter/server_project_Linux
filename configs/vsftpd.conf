# --- Core security ---
listen=YES
listen_ipv6=NO
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022

# --- Chroot: jail local users in their home ftp root ---
chroot_local_user=YES
allow_writeable_chroot=YES
user_sub_token=$USER
local_root=/home/$USER/ftp

# --- Passive mode for NAT/Firewalls (pick a small range) ---
pasv_enable=YES
pasv_min_port=30000
pasv_max_port=30049

# --- Transfer & protocol logging ---
xferlog_enable=YES
xferlog_std_format=NO
log_ftp_protocol=YES
vsftpd_log_file=/var/log/vsftpd.log

# --- Connection limits & hygiene ---
max_clients=10
max_per_ip=3
idle_session_timeout=600
data_connection_timeout=120
connect_from_port_20=YES

# --- Banner (nice for demo) ---
ftpd_banner=Welcome to Zawed FTP service.
